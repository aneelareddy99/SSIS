USE TEMPDB 
GO 
create table TBLPRODUCTS
			(
			PrdID int,
			PrdName varchar(30),
			PrdSize CHAR check (PrdSize in ('S', 'M', 'L'))
			)

-- CASE 1: INDEPEDANT EXECUTIONS
SELECT * FROM TBLPRODUCTS			-- 3 ROWS	


-- CASE 2: DEPEDANT EXECUTIONS  (ON SUCCESS)
TRUNCATE TABLE TBLPRODUCTS
SELECT * FROM TBLPRODUCTS			-- 2 ROWS, ORDER GUARANTEED 


-- CASE 3: DEPEDANT EXECUTIONS  (ON COMPLETION)
TRUNCATE TABLE TBLPRODUCTS
SELECT * FROM TBLPRODUCTS			-- 3 ROWS, ORDER GUARANTEED 


-- CASE 4: EITHER INSERT ALL PRODUCTS OR NOTHING.
-- PREREQUSITE: DISTRIBUTED TRANSACTION COOORDINATOR [DTC] SERVICE SHOULD BE RUNNING.
TRUNCATE TABLE TBLPRODUCTS
SELECT * FROM TBLPRODUCTS		-- 0 ROWS, ORDER GUARANTEED 


-- CASE 4: IF PACKAGE FAILS THEN RESTART FROM THE POINT OF FAILURE (MODULAR EXECUTION) ?
TRUNCATE TABLE TBLPRODUCTS
SELECT * FROM TBLPRODUCTS		-- 1 ROWS, ORDER GUARANTEED 
A
